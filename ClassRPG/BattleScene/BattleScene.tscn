[gd_scene load_steps=49 format=3 uid="uid://bu3mr741gkvrq"]

[ext_resource type="Texture2D" uid="uid://cpbb0i36uhgbq" path="res://KxPFmfhg.png" id="1_ybyfs"]
[ext_resource type="Script" path="res://BattleScene/PlayerTurn.gd" id="3_cretm"]
[ext_resource type="Script" path="res://Unit/Unit.gd" id="3_kjm3n"]
[ext_resource type="Script" path="res://BattleScene/EnemyTurn.gd" id="4_dhb6o"]
[ext_resource type="Script" path="res://BattleScene/SelectEnemyBG.gd" id="4_kpmye"]
[ext_resource type="Script" path="res://BattleScene/BattleManager.gd" id="4_p4ijo"]
[ext_resource type="Script" path="res://BattleScene/EnemySelector.gd" id="5_5hphj"]
[ext_resource type="Script" path="res://BattleScene/CompleteAction.gd" id="5_qtrjn"]
[ext_resource type="Script" path="res://UI/Skillname.gd" id="7_cwe3h"]
[ext_resource type="Script" path="res://BattleScene/SelectAllyBG.gd" id="7_rayo2"]
[ext_resource type="Script" path="res://BattleScene/States/TurnDecide/ChooseTurn.gd" id="8_02rmb"]
[ext_resource type="Script" path="res://BattleScene/SelectAlly.gd" id="8_ejyrp"]
[ext_resource type="Script" path="res://BattleScene/SkillInputs.gd" id="9_icg8r"]
[ext_resource type="Script" path="res://BattleScene/Sam.gd" id="10_rubd4"]
[ext_resource type="Script" path="res://BattleScene/EndFight.gd" id="11_f76x8"]
[ext_resource type="Script" path="res://BattleScene/Sophie.gd" id="12_qqmey"]
[ext_resource type="PackedScene" uid="uid://ngqqjj8gq5qa" path="res://Unit/Sam/sam_model.tscn" id="13_4wfho"]
[ext_resource type="Script" path="res://BattleScene/BB.gd" id="14_2yvau"]
[ext_resource type="PackedScene" uid="uid://c032nfxtxpcbi" path="res://Unit/Sophie/sophia_model.tscn" id="15_766op"]
[ext_resource type="PackedScene" uid="uid://dvu25xggogueq" path="res://Unit/BB/bb_model.tscn" id="17_mwipc"]
[ext_resource type="Script" path="res://BattleScene/Battleground/Battleground.gd" id="18_aducu"]
[ext_resource type="Script" path="res://BattleScene/SkillDamage.gd" id="21_2hxki"]
[ext_resource type="Shader" path="res://Shaders/ps1.gdshader" id="21_8a34x"]
[ext_resource type="FontFile" uid="uid://cmt2y2ujfu4h2" path="res://UI/AudioNugget.ttf" id="21_bgcos"]
[ext_resource type="Script" path="res://BattleScene/CurrentState.gd" id="24_x633m"]
[ext_resource type="Script" path="res://BattleScene/MainBattleCamera.gd" id="25_ofn88"]
[ext_resource type="Texture2D" uid="uid://ya0ievwryf4o" path="res://UI/PlayerTurn/Guard Arrow.png" id="25_tm7xu"]
[ext_resource type="Script" path="res://BattleScene/PlayerTurnUI.gd" id="25_xyimm"]
[ext_resource type="Texture2D" uid="uid://dmrk1w8i8kscv" path="res://UI/PlayerTurn/Guard Arrow Outline.png" id="26_2ww3c"]
[ext_resource type="Script" path="res://BattleScene/PathFollow3D.gd" id="26_2xwa2"]
[ext_resource type="Texture2D" uid="uid://c8g43rdjg4h26" path="res://UI/PlayerTurn/Guard Arrow Outline(1).png" id="27_tr71w"]
[ext_resource type="Texture2D" uid="uid://g4jmmsbs73mc" path="res://UI/PlayerTurn/Guard Arrow Outline(2).png" id="28_3psm6"]
[ext_resource type="Texture2D" uid="uid://chrp238rd8ipj" path="res://UI/PlayerTurn/HealthMana/MaxHealth.png" id="30_b4gh5"]
[ext_resource type="Texture2D" uid="uid://dhl2u7qg4ujso" path="res://UI/PlayerTurn/HealthMana/CurrentHealth.png" id="31_qdvtd"]
[ext_resource type="Texture2D" uid="uid://ci3p8yi1ywe73" path="res://UI/PlayerTurn/HealthMana/MaxSoul.png" id="32_wf06l"]
[ext_resource type="Texture2D" uid="uid://cgt4f5t3xwgov" path="res://UI/PlayerTurn/HealthMana/CurrentSoul.png" id="33_uef4v"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_0blkr"]
panorama = ExtResource("1_ybyfs")

[sub_resource type="Sky" id="Sky_glpqg"]
sky_material = SubResource("PanoramaSkyMaterial_0blkr")

[sub_resource type="Environment" id="Environment_ccmnm"]
background_mode = 2
background_color = Color(0.92549, 0.615686, 0.843137, 1)
sky = SubResource("Sky_glpqg")
sky_custom_fov = 51.1
ambient_light_source = 2
ambient_light_color = Color(0.784314, 0.717647, 0.694118, 1)
ambient_light_energy = 2.2
tonemap_mode = 2

[sub_resource type="PlaneMesh" id="PlaneMesh_ae5g0"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3bggr"]
albedo_color = Color(0.721377, 0.274627, 0.34483, 1)

[sub_resource type="BoxMesh" id="BoxMesh_dyvs1"]
material = SubResource("StandardMaterial3D_3bggr")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lyqfs"]
albedo_color = Color(0.258824, 0.796078, 0, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_qsc3p"]
material = SubResource("StandardMaterial3D_lyqfs")

[sub_resource type="Theme" id="Theme_1ep3o"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4oi1g"]
render_priority = 0
shader = ExtResource("21_8a34x")
shader_parameter/color_depth = 5
shader_parameter/dithering = false
shader_parameter/resolution_scale = 2

[sub_resource type="QuadMesh" id="QuadMesh_2cp44"]
material = SubResource("ShaderMaterial_4oi1g")
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="Curve3D" id="Curve3D_gvxab"]
_data = {
"points": PackedVector3Array(-0.0186071, -0.0517178, 1.47523, 0.0186071, 0.0517178, -1.47523, -3.91275, 0.563349, -4.64343, -2.70158, -0.101928, -0.0665646, 2.70158, 0.101928, 0.0665646, -0.672681, 0.585304, -8.18843, -0.06373, 0.0721154, -2.57156, 0.06373, -0.0721154, 2.57156, 2.68772, 0.456866, -4.22576, 2.118, 0.0104213, -0.0698686, -2.118, -0.0104213, 0.0698686, -0.853764, 0.449827, -0.90738, -0.0372264, -4.43459e-05, 1.28048, 0.0372264, 4.43459e-05, -1.28048, -3.91196, 0.544594, -4.62301),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[node name="BattleScene" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ccmnm")

[node name="BattleManager" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("4_p4ijo")

[node name="States" type="Node" parent="BattleManager"]

[node name="ChooseTurn" type="Node" parent="BattleManager/States"]
script = ExtResource("8_02rmb")

[node name="SelectAlly" type="Node" parent="BattleManager/States"]
script = ExtResource("8_ejyrp")

[node name="PlayerTurn" type="Node" parent="BattleManager/States"]
script = ExtResource("3_cretm")

[node name="EnemyTurn" type="Node" parent="BattleManager/States"]
script = ExtResource("4_dhb6o")

[node name="SelectEnemyBG" type="Node" parent="BattleManager/States"]
script = ExtResource("4_kpmye")

[node name="SelectAllyBG" type="Node" parent="BattleManager/States"]
script = ExtResource("7_rayo2")

[node name="CompleteAction" type="Node" parent="BattleManager/States"]
script = ExtResource("5_qtrjn")

[node name="SkillInputs" type="Node" parent="BattleManager/States"]
script = ExtResource("9_icg8r")

[node name="EndFight" type="Node" parent="BattleManager/States"]
script = ExtResource("11_f76x8")

[node name="PlayerUnits" type="Node" parent="BattleManager"]

[node name="Sam" type="Node3D" parent="BattleManager/PlayerUnits"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 1.58088, -0.0559146, 0)
script = ExtResource("10_rubd4")
max_health = 10
current_health = 7
current_sp = 7
max_sp = 10
attack = 10
defense = 3
technique = 10

[node name="Sam2" parent="BattleManager/PlayerUnits/Sam" instance=ExtResource("13_4wfho")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.01171, 0)

[node name="UnitCam" type="Node3D" parent="BattleManager/PlayerUnits/Sam"]
transform = Transform3D(0.795643, 0, -0.605766, 0, 1, 0, 0.605766, 0, 0.795643, -5.66829, 10.2501, 7.42947)

[node name="AttackCam" type="Camera3D" parent="BattleManager/PlayerUnits/Sam"]
transform = Transform3D(-0.586404, 0, -3.95678, 0, 4, 0, 3.95678, 0, -0.586404, -12.7933, 10.2501, 0.304489)

[node name="Phyllis" type="Node3D" parent="BattleManager/PlayerUnits"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 9.62273, 0.117663, -6.13227)
script = ExtResource("12_qqmey")
max_health = 8
current_health = 7
current_sp = 9
max_sp = 13
attack = 3
defense = 4
technique = 4
startingBG = 1

[node name="Phyllis" parent="BattleManager/PlayerUnits/Phyllis" instance=ExtResource("15_766op")]
transform = Transform3D(-0.993337, 0, 0.115249, 0, 1, 0, -0.115249, 0, -0.993337, 0, 0, 0)

[node name="UnitCam" type="Node3D" parent="BattleManager/PlayerUnits/Phyllis"]
transform = Transform3D(0.897212, 0, -0.4416, 0, 1, 0, 0.4416, 0, 0.897212, -9.50122, 9.69407, 9.73473)

[node name="AttackCam" type="Camera3D" parent="BattleManager/PlayerUnits/Phyllis"]
transform = Transform3D(-0.133528, 0, -3.99777, 0, 4, 0, 3.99777, 0, -0.133528, -12.7933, 10.2501, -0.817165)

[node name="BB" type="Node3D" parent="BattleManager/PlayerUnits"]
transform = Transform3D(-0.249918, 0, -0.00641339, 0, 0.25, 0, 0.00641339, 0, -0.249918, -5.85246, 0.136662, -5.95148)
script = ExtResource("14_2yvau")
max_health = 20
current_health = 18
current_sp = 4
max_sp = 6
attack = 7
defense = 10
technique = 6
startingBG = 2

[node name="BB" parent="BattleManager/PlayerUnits/BB" instance=ExtResource("17_mwipc")]

[node name="UnitCam" type="Node3D" parent="BattleManager/PlayerUnits/BB"]
transform = Transform3D(0.944782, 0, -0.327696, 0, 1, 0, 0.327696, 0, 0.944782, 6.65664, 10.0157, -11.134)

[node name="AttackCam" type="Camera3D" parent="BattleManager/PlayerUnits/BB"]
transform = Transform3D(0.559319, 0, 3.9607, 0, 4, 0, -3.9607, 0, 0.559319, 15.0607, 12.4646, 0.402027)

[node name="Battlegrounds" type="Node" parent="BattleManager"]

[node name="Battleground" type="Node3D" parent="BattleManager/Battlegrounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.36123, 0, 0)
script = ExtResource("18_aducu")
defense_boost = 3

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/Battlegrounds/Battleground"]
transform = Transform3D(2.48962, 0, 0, 0, 1, 0, 0, 0, 2.52378, 0.103124, 0, 0.111186)
mesh = SubResource("PlaneMesh_ae5g0")
skeleton = NodePath("")

[node name="AttackerPos" type="Node3D" parent="BattleManager/Battlegrounds/Battleground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.12662, 0, -1.70611)

[node name="Battleground2" type="Node3D" parent="BattleManager/Battlegrounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.48942, 0, -5.44311)
script = ExtResource("18_aducu")
bgType = 1
attack_boost = 2

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/Battlegrounds/Battleground2"]
transform = Transform3D(2.48962, 0, 0, 0, 1, 0, 0, 0, 2.52378, 0, 0, 0)
mesh = SubResource("PlaneMesh_ae5g0")
skeleton = NodePath("")

[node name="AttackerPos" type="Node3D" parent="BattleManager/Battlegrounds/Battleground2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.12662, 0, -1.70611)

[node name="Battleground3" type="Node3D" parent="BattleManager/Battlegrounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.42787, 0, -5.95517)
script = ExtResource("18_aducu")
bgType = 2
attack_boost = 2

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/Battlegrounds/Battleground3"]
transform = Transform3D(2.48962, 0, 0, 0, 1, 0, 0, 0, 2.52378, 0, 0, 0)
mesh = SubResource("PlaneMesh_ae5g0")
skeleton = NodePath("")

[node name="AttackerPos" type="Node3D" parent="BattleManager/Battlegrounds/Battleground3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.12662, 0, -1.70611)

[node name="Battleground4" type="Node3D" parent="BattleManager/Battlegrounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.75759, 0, -12.5466)
script = ExtResource("18_aducu")
bgType = 3
health_regen = 2

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/Battlegrounds/Battleground4"]
transform = Transform3D(2.48962, 0, 0, 0, 1, 0, 0, 0, 2.52378, 0, 0, 0)
mesh = SubResource("PlaneMesh_ae5g0")
skeleton = NodePath("")

[node name="AttackerPos" type="Node3D" parent="BattleManager/Battlegrounds/Battleground4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.12662, 0, -1.70611)

[node name="EnemyUnits" type="Node" parent="BattleManager"]

[node name="Enemy1" type="Node3D" parent="BattleManager/EnemyUnits"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.28731, 0, 7.38815)
script = ExtResource("3_kjm3n")
max_health = 10
current_health = 10
attack = 4
defense = 4
enemy_unit = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/EnemyUnits/Enemy1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0761206, 0.543812, 0)
mesh = SubResource("BoxMesh_dyvs1")

[node name="Enemy2" type="Node3D" parent="BattleManager/EnemyUnits"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.1778, 0, 14.9895)
script = ExtResource("3_kjm3n")
max_health = 13
current_health = 13
attack = 3
defense = 3
enemy_unit = true
startingBG = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/EnemyUnits/Enemy2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0761204, 0.543812, -0.674129)
mesh = SubResource("BoxMesh_dyvs1")

[node name="Enemy3" type="Node3D" parent="BattleManager/EnemyUnits"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.17886, 0, 14.1841)
script = ExtResource("3_kjm3n")
max_health = 10
current_health = 10
attack = 4
defense = 4
enemy_unit = true
startingBG = 2

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/EnemyUnits/Enemy3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0761204, 0.543812, -0.465992)
mesh = SubResource("BoxMesh_dyvs1")

[node name="Enemy4" type="Node3D" parent="BattleManager/EnemyUnits"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.14065, 0, 21.8315)
script = ExtResource("3_kjm3n")
max_health = 5
current_health = 5
attack = 2
defense = 4
enemy_unit = true
startingBG = 3

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/EnemyUnits/Enemy4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0761206, 0.543812, 0)
mesh = SubResource("BoxMesh_dyvs1")

[node name="EnemyBGs" type="Node" parent="BattleManager"]

[node name="Battleground" type="Node3D" parent="BattleManager/EnemyBGs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7.30487)
script = ExtResource("18_aducu")

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/EnemyBGs/Battleground"]
transform = Transform3D(2.48962, 0, 0, 0, 1, 0, 0, 0, 2.52378, 1.28731, 0, 0.111186)
mesh = SubResource("PlaneMesh_ae5g0")
skeleton = NodePath("")

[node name="AttackerPos" type="Node3D" parent="BattleManager/EnemyBGs/Battleground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.12662, 0, -1.70611)

[node name="Battleground2" type="Node3D" parent="BattleManager/EnemyBGs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.48942, 0, 14.0928)
script = ExtResource("18_aducu")
bgType = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/EnemyBGs/Battleground2"]
transform = Transform3D(2.48962, 0, 0, 0, 1, 0, 0, 0, 2.52378, 0, 0, 0)
mesh = SubResource("PlaneMesh_ae5g0")
skeleton = NodePath("")

[node name="AttackerPos" type="Node3D" parent="BattleManager/EnemyBGs/Battleground2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.634101, 0, -1.70611)

[node name="Battleground3" type="Node3D" parent="BattleManager/EnemyBGs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.42787, 0, 13.5808)
script = ExtResource("18_aducu")
bgType = 2

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/EnemyBGs/Battleground3"]
transform = Transform3D(2.48962, 0, 0, 0, 1, 0, 0, 0, 2.52378, 0, 0, 0)
mesh = SubResource("PlaneMesh_ae5g0")
skeleton = NodePath("")

[node name="AttackerPos" type="Node3D" parent="BattleManager/EnemyBGs/Battleground3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.130697, 0, -1.70611)

[node name="Battleground4" type="Node3D" parent="BattleManager/EnemyBGs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.75759, 0, 21.5305)
script = ExtResource("18_aducu")
bgType = 3

[node name="MeshInstance3D" type="MeshInstance3D" parent="BattleManager/EnemyBGs/Battleground4"]
transform = Transform3D(2.48962, 0, 0, 0, 1, 0, 0, 0, 2.52378, 0, 0, 0)
mesh = SubResource("PlaneMesh_ae5g0")
skeleton = NodePath("")

[node name="AttackerPos" type="Node3D" parent="BattleManager/EnemyBGs/Battleground4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.366076, 0, -1.70611)

[node name="UI3d" type="Node3D" parent="BattleManager"]

[node name="EnemySelector" type="MeshInstance3D" parent="BattleManager/UI3d"]
transform = Transform3D(0.0774062, -0.99346, -0.0839406, 0.693788, 0.114138, -0.711077, 0.716007, -0.00319518, 0.698086, 1.48829, 2.59487, 16.5285)
mesh = SubResource("PlaneMesh_qsc3p")
script = ExtResource("5_5hphj")

[node name="Control" type="Control" parent="BattleManager"]
layout_mode = 3
anchors_preset = 0
offset_top = 1.0
offset_right = 913.0
offset_bottom = 512.0

[node name="SkillDamage" type="TextEdit" parent="BattleManager/Control"]
visible = false
layout_mode = 0
offset_left = 8.0
offset_top = 47.0
offset_right = 137.0
offset_bottom = 88.0
theme_override_fonts/font = ExtResource("21_bgcos")
text = "Damage: "
script = ExtResource("21_2hxki")

[node name="Skillname" type="TextEdit" parent="BattleManager/Control"]
visible = false
layout_mode = 0
offset_left = 5.0
offset_top = 91.0
offset_right = 255.0
offset_bottom = 131.0
text = "Skill Name: "
script = ExtResource("7_cwe3h")

[node name="CurrentState" type="TextEdit" parent="BattleManager/Control"]
visible = false
layout_mode = 0
offset_left = 8.0
offset_top = 2.0
offset_right = 258.0
offset_bottom = 43.0
text = "State Name: "
script = ExtResource("24_x633m")

[node name="PlayerTurnUI" type="Control" parent="BattleManager/Control"]
anchors_preset = 0
offset_left = 7.0
offset_top = 1.0
offset_right = 901.0
offset_bottom = 507.0
theme = SubResource("Theme_1ep3o")
script = ExtResource("25_xyimm")

[node name="LeftArrow" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI"]
position = Vector2(63, 259)
scale = Vector2(0.5, 0.5)
texture = ExtResource("25_tm7xu")

[node name="RichTextLabel" type="RichTextLabel" parent="BattleManager/Control/PlayerTurnUI/LeftArrow"]
offset_left = -43.3221
offset_top = -24.0678
offset_right = 264.678
offset_bottom = 47.9322
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 33
theme_override_fonts/normal_font = ExtResource("21_bgcos")
theme_override_font_sizes/normal_font_size = 28
text = "guard"
metadata/_edit_use_anchors_ = true

[node name="LeftArrowSam" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/LeftArrow"]
visible = false
z_index = -1
texture = ExtResource("26_2ww3c")

[node name="LeftArrowBB" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/LeftArrow"]
visible = false
z_index = -1
texture = ExtResource("27_tr71w")

[node name="LeftArrowPhyliss" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/LeftArrow"]
visible = false
z_index = -1
texture = ExtResource("28_3psm6")

[node name="RightArrow" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI"]
position = Vector2(819, 239)
scale = Vector2(0.5, 0.5)
texture = ExtResource("25_tm7xu")
flip_h = true

[node name="RichTextLabel" type="RichTextLabel" parent="BattleManager/Control/PlayerTurnUI/RightArrow"]
anchors_preset = -1
anchor_left = -0.192227
anchor_top = -0.10861
anchor_right = 0.00026119
anchor_bottom = -0.000851072
offset_left = -65.4347
offset_top = -25.0909
offset_right = 242.565
offset_bottom = 46.9091
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 33
theme_override_fonts/normal_font = ExtResource("21_bgcos")
theme_override_font_sizes/normal_font_size = 28
text = " 
 attack"
metadata/_edit_use_anchors_ = true

[node name="RightArrowSam" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/RightArrow"]
visible = false
z_index = -1
texture = ExtResource("26_2ww3c")
flip_h = true

[node name="RightArrowBB" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/RightArrow"]
visible = false
z_index = -1
texture = ExtResource("27_tr71w")
flip_h = true

[node name="RightArrowPhyliss" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/RightArrow"]
visible = false
z_index = -1
texture = ExtResource("28_3psm6")
flip_h = true

[node name="UpArrow" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI"]
position = Vector2(448, 59)
rotation = 1.5708
scale = Vector2(0.5, 0.5)
texture = ExtResource("25_tm7xu")

[node name="RichTextLabel" type="RichTextLabel" parent="BattleManager/Control/PlayerTurnUI/UpArrow"]
anchors_preset = -1
anchor_left = -0.192227
anchor_top = -0.10861
anchor_right = 0.00026119
anchor_bottom = -0.000851072
offset_left = 8.06348
offset_top = 73.5515
offset_right = 316.064
offset_bottom = 145.552
rotation = -1.5708
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 33
theme_override_fonts/normal_font = ExtResource("21_bgcos")
theme_override_font_sizes/normal_font_size = 28
text = "
 item"
metadata/_edit_use_anchors_ = true

[node name="UpArrowSam" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/UpArrow"]
visible = false
z_index = -1
texture = ExtResource("26_2ww3c")

[node name="UpArrowBB" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/UpArrow"]
visible = false
z_index = -1
texture = ExtResource("27_tr71w")

[node name="UpArrowPhyliss" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/UpArrow"]
visible = false
z_index = -1
texture = ExtResource("28_3psm6")

[node name="DownArrow" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI"]
position = Vector2(455, 441)
rotation = -1.5708
scale = Vector2(0.5, 0.5)
texture = ExtResource("25_tm7xu")

[node name="RichTextLabel" type="RichTextLabel" parent="BattleManager/Control/PlayerTurnUI/DownArrow"]
anchors_preset = -1
anchor_left = -0.192227
anchor_top = -0.10861
anchor_right = 0.00026119
anchor_bottom = -0.000851072
offset_left = 95.1011
offset_top = -50.235
offset_right = 403.101
offset_bottom = 21.765
rotation = 1.5708
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 33
theme_override_fonts/normal_font = ExtResource("21_bgcos")
theme_override_font_sizes/normal_font_size = 28
text = "
 shift"
metadata/_edit_use_anchors_ = true

[node name="DownArrowSam" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/DownArrow"]
visible = false
z_index = -1
texture = ExtResource("26_2ww3c")

[node name="DownArrowBB" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/DownArrow"]
visible = false
z_index = -1
texture = ExtResource("27_tr71w")

[node name="DownArrowPhyliss" type="Sprite2D" parent="BattleManager/Control/PlayerTurnUI/DownArrow"]
visible = false
z_index = -1
texture = ExtResource("28_3psm6")

[node name="Control" type="Node2D" parent="BattleManager/Control/PlayerTurnUI"]
position = Vector2(774, 420)
rotation = -0.785397
scale = Vector2(0.5, 0.5)

[node name="HealthBar" type="TextureProgressBar" parent="BattleManager/Control/PlayerTurnUI/Control"]
offset_left = -194.0
offset_top = -264.0
offset_right = 217.0
offset_bottom = 147.0
max_value = 10.0
value = 10.0
texture_under = ExtResource("30_b4gh5")
texture_progress = ExtResource("31_qdvtd")
texture_progress_offset = Vector2(61.505, 189.025)

[node name="SpBar" type="TextureProgressBar" parent="BattleManager/Control/PlayerTurnUI/Control"]
offset_left = -169.706
offset_top = -167.348
offset_right = 229.294
offset_bottom = 232.652
max_value = 10.0
value = 10.0
texture_under = ExtResource("32_wf06l")
texture_progress = ExtResource("33_uef4v")
texture_progress_offset = Vector2(35.46, 168.21)

[node name="HealthNumber" type="RichTextLabel" parent="BattleManager/Control/PlayerTurnUI/Control"]
offset_left = -113.137
offset_top = -103.709
offset_right = -32.1373
offset_bottom = -63.7087
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_fonts/normal_font = ExtResource("21_bgcos")
theme_override_font_sizes/normal_font_size = 40
text = "10"

[node name="SpNumber" type="RichTextLabel" parent="BattleManager/Control/PlayerTurnUI/Control"]
offset_left = 9.42801
offset_top = 44.7834
offset_right = 90.428
offset_bottom = 84.7834
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_fonts/normal_font = ExtResource("21_bgcos")
theme_override_font_sizes/normal_font_size = 40
text = "10"

[node name="SamName" type="RichTextLabel" parent="BattleManager/Control/PlayerTurnUI/Control"]
visible = false
offset_left = -100.174
offset_top = -50.6758
offset_right = 177.826
offset_bottom = 32.3242
theme_override_colors/default_color = Color(0.84375, 0.996094, 0.0976563, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 32
theme_override_fonts/normal_font = ExtResource("21_bgcos")
theme_override_font_sizes/normal_font_size = 80
text = "sam"

[node name="BBName" type="RichTextLabel" parent="BattleManager/Control/PlayerTurnUI/Control"]
visible = false
offset_left = -51.8546
offset_top = -44.7833
offset_right = 226.145
offset_bottom = 38.2167
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(1, 1, 1, 1)
theme_override_constants/outline_size = 32
theme_override_fonts/normal_font = ExtResource("21_bgcos")
theme_override_font_sizes/normal_font_size = 80
text = "BB
"

[node name="PhylissName" type="RichTextLabel" parent="BattleManager/Control/PlayerTurnUI/Control"]
visible = false
offset_left = -111.959
offset_top = -36.5337
offset_right = 407.041
offset_bottom = 46.4663
theme_override_colors/default_color = Color(0.605469, 0.0898438, 0.996094, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 32
theme_override_fonts/normal_font = ExtResource("21_bgcos")
theme_override_font_sizes/normal_font_size = 50
text = "phyliss
"

[node name="Cameras" type="Node" parent="BattleManager"]

[node name="MainBattleCamera" type="Camera3D" parent="BattleManager/Cameras"]
transform = Transform3D(-0.0755113, 0.387049, -0.918962, 0.0292985, 0.922056, 0.385945, 0.996714, 0.00221901, -0.0809657, -18.6049, 9.94786, 3.5505)
current = true
script = ExtResource("25_ofn88")

[node name="AnimationPlayer" type="AnimationPlayer" parent="BattleManager/Cameras/MainBattleCamera"]

[node name="Filter" type="MeshInstance3D" parent="BattleManager/Cameras/MainBattleCamera"]
transform = Transform3D(0.928111, 0.0387952, 0.370276, 0.10958, 0.922036, -0.371271, -0.355812, 0.385156, 0.8515, -4.15642, 7.04575, -18.3115)
visible = false
mesh = SubResource("QuadMesh_2cp44")
skeleton = NodePath("")

[node name="UnitSelectedCamera" type="Camera3D" parent="BattleManager/Cameras"]

[node name="CameraPaths" type="Node" parent="BattleManager"]

[node name="BG1Path" type="Path3D" parent="BattleManager/CameraPaths"]
transform = Transform3D(0.0243798, 0, -0.999703, 0, 1, 0, 0.999703, 0, 0.0243798, -2.97166, 1.48067, 0.968839)
curve = SubResource("Curve3D_gvxab")

[node name="PathFollow3D" type="PathFollow3D" parent="BattleManager/CameraPaths/BG1Path"]
transform = Transform3D(0.999891, -0.000441827, -0.012604, 0, 0.999357, -0.0350324, 0.0126117, 0.0350294, 0.999285, -3.91275, 0.563349, -4.64343)
script = ExtResource("26_2xwa2")

[node name="BG2Path" type="Path3D" parent="BattleManager/CameraPaths"]
transform = Transform3D(0.0243798, 0, -0.999703, 0, 1, 0, 0.999703, 0, 0.0243798, 4.97615, 2.13415, -5.64854)
curve = SubResource("Curve3D_gvxab")

[node name="PathFollow3D" type="PathFollow3D" parent="BattleManager/CameraPaths/BG2Path"]
transform = Transform3D(0.999891, -0.000441827, -0.012604, 0, 0.999357, -0.0350324, 0.0126117, 0.0350294, 0.999285, -3.91275, 0.563349, -4.64343)
script = ExtResource("26_2xwa2")

[node name="BG3Path" type="Path3D" parent="BattleManager/CameraPaths"]
transform = Transform3D(0.0243798, 0, -0.999703, 0, 1, 0, 0.999703, 0, 0.0243798, -10.3035, 2.41821, -5.48455)
curve = SubResource("Curve3D_gvxab")

[node name="PathFollow3D" type="PathFollow3D" parent="BattleManager/CameraPaths/BG3Path"]
transform = Transform3D(0.999891, -0.000441827, -0.012604, 0, 0.999357, -0.0350324, 0.0126117, 0.0350294, 0.999285, -3.91275, 0.563349, -4.64343)
script = ExtResource("26_2xwa2")

[node name="BG4Path" type="Path3D" parent="BattleManager/CameraPaths"]
transform = Transform3D(0.0243798, 0, -0.999703, 0, 1, 0, 0.999703, 0, 0.0243798, -2.68386, 1.62799, -12.2308)
curve = SubResource("Curve3D_gvxab")

[node name="PathFollow3D" type="PathFollow3D" parent="BattleManager/CameraPaths/BG4Path"]
transform = Transform3D(0.999891, -0.000441827, -0.012604, 0, 0.999357, -0.0350324, 0.0126117, 0.0350294, 0.999285, -3.91275, 0.563349, -4.64343)
script = ExtResource("26_2xwa2")

[node name="CameraPoints" type="Node" parent="BattleManager"]

[node name="SelectEBGcam" type="Node3D" parent="BattleManager/CameraPoints"]
transform = Transform3D(-0.0191974, 0.474001, -0.880315, 0, 0.880477, 0.474088, 0.999816, 0.00910126, -0.0169029, -15.2724, 14.8798, 13.7791)

[node name="SelectBGcam" type="Node3D" parent="BattleManager/CameraPoints"]
transform = Transform3D(-0.0191974, 0.474001, -0.880315, 0, 0.880477, 0.474088, 0.999816, 0.00910126, -0.0169029, -15.2724, 14.8798, -6.1244)

[node name="MainOverview" type="Node3D" parent="BattleManager/CameraPoints"]
transform = Transform3D(-0.0256551, 0.366393, -0.930107, 0.00860499, 0.930459, 0.366294, 0.999634, 0.00139376, -0.0270238, -19.1747, 10.4416, 3.98326)

[connection signal="rotate_finished" from="BattleManager/PlayerUnits/Sam" to="BattleManager" method="_on_unit_rotate_finished"]
[connection signal="animation_finished" from="BattleManager/PlayerUnits/Sam/Sam2/AnimationPlayer" to="BattleManager/PlayerUnits/Sam" method="_on_animation_player_animation_finished"]
[connection signal="rotate_finished" from="BattleManager/PlayerUnits/Phyllis" to="BattleManager" method="_on_unit_rotate_finished"]
[connection signal="animation_finished" from="BattleManager/PlayerUnits/Phyllis/Phyllis/AnimationPlayer" to="BattleManager/PlayerUnits/Phyllis" method="_on_animation_player_animation_finished"]
[connection signal="rotate_finished" from="BattleManager/PlayerUnits/BB" to="BattleManager" method="_on_unit_rotate_finished"]
[connection signal="animation_finished" from="BattleManager/PlayerUnits/BB/BB/AnimationPlayer" to="BattleManager/PlayerUnits/BB" method="_on_animation_player_animation_finished"]

[editable path="BattleManager/PlayerUnits/Sam/Sam2"]
[editable path="BattleManager/PlayerUnits/Phyllis/Phyllis"]
[editable path="BattleManager/PlayerUnits/BB/BB"]
